{"ast":null,"code":"class VoiceService {\n  constructor() {\n    this.recognition = null;\n    this.synthesis = window.speechSynthesis;\n    this.isListening = false;\n    this.isSupported = this.checkSupport();\n  }\n  checkSupport() {\n    const hasRecognition = 'webkitSpeechRecognition' in window || 'SpeechRecognition' in window;\n    const hasSynthesis = 'speechSynthesis' in window;\n    return hasRecognition && hasSynthesis;\n  }\n  initializeRecognition() {\n    if (!this.isSupported) return null;\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    this.recognition = new SpeechRecognition();\n    this.recognition.continuous = false;\n    this.recognition.interimResults = false;\n    this.recognition.lang = 'en-IN'; // English (India)\n\n    return this.recognition;\n  }\n  startListening(onResult, onError) {\n    if (!this.recognition) {\n      this.initializeRecognition();\n    }\n    if (!this.recognition) {\n      onError('Speech recognition not supported');\n      return;\n    }\n    this.recognition.onresult = event => {\n      const transcript = event.results[0][0].transcript;\n      onResult(transcript);\n      this.isListening = false;\n    };\n    this.recognition.onerror = event => {\n      onError(`Speech recognition error: ${event.error}`);\n      this.isListening = false;\n    };\n    this.recognition.onend = () => {\n      this.isListening = false;\n    };\n    try {\n      this.recognition.start();\n      this.isListening = true;\n    } catch (error) {\n      onError('Failed to start speech recognition');\n      this.isListening = false;\n    }\n  }\n  stopListening() {\n    if (this.recognition && this.isListening) {\n      this.recognition.stop();\n      this.isListening = false;\n    }\n  }\n  speak(text, onEnd) {\n    if (!this.synthesis) {\n      console.error('Speech synthesis not supported');\n      return;\n    }\n\n    // Stop any ongoing speech\n    this.synthesis.cancel();\n    const utterance = new SpeechSynthesisUtterance(text);\n    utterance.lang = 'en-IN';\n    utterance.rate = 0.8; // Slower rate for seniors\n    utterance.pitch = 1;\n    utterance.volume = 1;\n    utterance.onend = () => {\n      if (onEnd) onEnd();\n    };\n    utterance.onerror = event => {\n      console.error('Speech synthesis error:', event.error);\n    };\n    this.synthesis.speak(utterance);\n  }\n  stopSpeaking() {\n    if (this.synthesis) {\n      this.synthesis.cancel();\n    }\n  }\n  getAvailableVoices() {\n    return this.synthesis ? this.synthesis.getVoices() : [];\n  }\n}\nexport default VoiceService;","map":{"version":3,"names":["VoiceService","constructor","recognition","synthesis","window","speechSynthesis","isListening","isSupported","checkSupport","hasRecognition","hasSynthesis","initializeRecognition","SpeechRecognition","webkitSpeechRecognition","continuous","interimResults","lang","startListening","onResult","onError","onresult","event","transcript","results","onerror","error","onend","start","stopListening","stop","speak","text","onEnd","console","cancel","utterance","SpeechSynthesisUtterance","rate","pitch","volume","stopSpeaking","getAvailableVoices","getVoices"],"sources":["C:/Users/Imran Mohammed/Documents/netsathi-chatbot/src/components/VoiceService.js"],"sourcesContent":["class VoiceService {\r\n  constructor() {\r\n    this.recognition = null;\r\n    this.synthesis = window.speechSynthesis;\r\n    this.isListening = false;\r\n    this.isSupported = this.checkSupport();\r\n  }\r\n\r\n  checkSupport() {\r\n    const hasRecognition = 'webkitSpeechRecognition' in window || 'SpeechRecognition' in window;\r\n    const hasSynthesis = 'speechSynthesis' in window;\r\n    return hasRecognition && hasSynthesis;\r\n  }\r\n\r\n  initializeRecognition() {\r\n    if (!this.isSupported) return null;\r\n\r\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n    this.recognition = new SpeechRecognition();\r\n    \r\n    this.recognition.continuous = false;\r\n    this.recognition.interimResults = false;\r\n    this.recognition.lang = 'en-IN'; // English (India)\r\n    \r\n    return this.recognition;\r\n  }\r\n\r\n  startListening(onResult, onError) {\r\n    if (!this.recognition) {\r\n      this.initializeRecognition();\r\n    }\r\n\r\n    if (!this.recognition) {\r\n      onError('Speech recognition not supported');\r\n      return;\r\n    }\r\n\r\n    this.recognition.onresult = (event) => {\r\n      const transcript = event.results[0][0].transcript;\r\n      onResult(transcript);\r\n      this.isListening = false;\r\n    };\r\n\r\n    this.recognition.onerror = (event) => {\r\n      onError(`Speech recognition error: ${event.error}`);\r\n      this.isListening = false;\r\n    };\r\n\r\n    this.recognition.onend = () => {\r\n      this.isListening = false;\r\n    };\r\n\r\n    try {\r\n      this.recognition.start();\r\n      this.isListening = true;\r\n    } catch (error) {\r\n      onError('Failed to start speech recognition');\r\n      this.isListening = false;\r\n    }\r\n  }\r\n\r\n  stopListening() {\r\n    if (this.recognition && this.isListening) {\r\n      this.recognition.stop();\r\n      this.isListening = false;\r\n    }\r\n  }\r\n\r\n  speak(text, onEnd) {\r\n    if (!this.synthesis) {\r\n      console.error('Speech synthesis not supported');\r\n      return;\r\n    }\r\n\r\n    // Stop any ongoing speech\r\n    this.synthesis.cancel();\r\n\r\n    const utterance = new SpeechSynthesisUtterance(text);\r\n    utterance.lang = 'en-IN';\r\n    utterance.rate = 0.8; // Slower rate for seniors\r\n    utterance.pitch = 1;\r\n    utterance.volume = 1;\r\n\r\n    utterance.onend = () => {\r\n      if (onEnd) onEnd();\r\n    };\r\n\r\n    utterance.onerror = (event) => {\r\n      console.error('Speech synthesis error:', event.error);\r\n    };\r\n\r\n    this.synthesis.speak(utterance);\r\n  }\r\n\r\n  stopSpeaking() {\r\n    if (this.synthesis) {\r\n      this.synthesis.cancel();\r\n    }\r\n  }\r\n\r\n  getAvailableVoices() {\r\n    return this.synthesis ? this.synthesis.getVoices() : [];\r\n  }\r\n}\r\n\r\nexport default VoiceService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}